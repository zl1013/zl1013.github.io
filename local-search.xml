<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>CentOS 8安装Docker</title>
    <link href="/2021/09/19/Docker/centOS8%E5%AE%89%E8%A3%85Docker/"/>
    <url>/2021/09/19/Docker/centOS8%E5%AE%89%E8%A3%85Docker/</url>
    
    <content type="html"><![CDATA[<h1 id="CentOS-8安装Docker"><a href="#CentOS-8安装Docker" class="headerlink" title="CentOS 8安装Docker"></a>CentOS 8安装Docker</h1><blockquote><p>官方参考地址：<a href="https://docs.docker.com/install/linux/docker-ce/centos/">https://docs.docker.com/install/linux/docker-ce/centos/</a><br>国外的Docker镜像很慢，本文基于阿里云镜像</p></blockquote><h5 id="1-卸载旧版本"><a href="#1-卸载旧版本" class="headerlink" title="1. 卸载旧版本"></a>1. 卸载旧版本</h5><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo yum remove docker \<br>                docker-client \<br>                docker-client-latest \<br>                docker-common \<br>                docker-latest \<br>                docker-latest-logrotate \<br>                docker-logrotate \<br>                docker-engine<br></code></pre></div></td></tr></table></figure><h5 id="2-安装Docker"><a href="#2-安装Docker" class="headerlink" title="2. 安装Docker"></a>2. 安装Docker</h5><ol><li>安装之前我们先安装下<code>yum-utils</code>，为了通过 <code>yum-config-manager</code> 命令来设置 镜像仓库地址</li></ol><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">yum install yum-utils<br></code></pre></div></td></tr></table></figure><ol start="2"><li>设置镜像仓库地址</li></ol><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo<br></code></pre></div></td></tr></table></figure><ol start="3"><li>安装 docker</li></ol><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">yum install docker-ce docker-ce-cli containerd.io<br></code></pre></div></td></tr></table></figure><blockquote><p><strong>报错：</strong><font color=#FF0000>  <code>No match for argument: containerd.io</code></font>  </p><p><strong>原因：</strong><code>centos8默认使用podman代替docker，所以需要containerd.io，就安装一下就好了</code></p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">yum install https://mirrors.aliyun.com/docker-ce/linux/centos/7/x86_64/stable/Packages/containerd.io-1.4.9-3.1.el7.x86_64.rpm<br></code></pre></div></td></tr></table></figure></blockquote><ol start="4"><li>继续安装docker</li></ol><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">yum install docker-ce docker-ce-cli containerd.io<br></code></pre></div></td></tr></table></figure><ol start="5"><li>启动docker</li></ol><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">systemctl start docker.service<br></code></pre></div></td></tr></table></figure><ol start="6"><li>设置docker开机自启动</li></ol><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">systemctl enable docker.service<br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
      <tag>CentOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
